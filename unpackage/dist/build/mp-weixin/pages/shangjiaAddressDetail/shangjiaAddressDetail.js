(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shangjiaAddressDetail/shangjiaAddressDetail"],{3084:function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={data:function(){return{baseurl:getApp().globalData.baseurl,token:getApp().globalData.token,shop_no:"",sign_num:Number,comlist:[],comments:Number,lat:getApp().globalData.lat,lng:getApp().globalData.lng,list:[],swiperlist:[]}},onLoad:function(t){this.shop_no=t.shop_no},mounted:function(){this.getDetail(),this.commentLength(),this.commentList()},methods:{getDetail:function(){var n=this;t.request({url:this.baseurl+"/api/shop/shopInfo",method:"POST",header:{xcx:1,token:this.token},data:{shop_no:this.shop_no,lat:this.lat,lng:this.lng,city:t.getStorageSync("citySel")},success:function(t){console.log("商家详情",t),n.list=t.data.data,n.swiperlist=t.data.data.slider,n.sign_num=t.data.data.sign_num,n.list.distance=n.space(n.lat,n.lng,n.list.lat,n.list.lng).toFixed(2)},fail:function(){},complete:function(){}})},commentLength:function(){var n=this;t.request({url:this.baseurl+"/api/shop/shopCommentTotal",method:"POST",header:{xcx:1,token:this.token},data:{shop_no:this.shop_no,city:t.getStorageSync("citySel")},success:function(t){console.log("评论总条数",t),n.comments=t.data.data},fail:function(){},complete:function(){}})},commentList:function(){var n=this;t.request({url:this.baseurl+"/api/shop/shopCommentList",method:"POST",header:{xcx:1,token:this.token},data:{shop_no:this.shop_no,page:1,num:10,city:t.getStorageSync("citySel")},success:function(t){console.log("商家评论列表",t),n.comlist=t.data.data},fail:function(){},complete:function(){}})},space:function(t,n,e,a){var o=t*Math.PI/180,s=e*Math.PI/180,i=o-s,c=n*Math.PI/180-a*Math.PI/180,l=2*Math.asin(Math.sqrt(Math.pow(Math.sin(i/2),2)+Math.cos(o)*Math.cos(s)*Math.pow(Math.sin(c/2),2)));return l*=6378.137,l=Math.round(1e4*l)/1e4,l},onPhone:function(n){t.makePhoneCall({phoneNumber:n+"",success:function(t){console.log(t)}})},openLocation:function(n,e,a,o){t.openLocation({latitude:n,longitude:e,address:o,name:a,success:function(t){console.log("查看地图位置",t)}})},previewImage:function(n){t.previewImage({urls:this.swiperlist,current:n,success:function(t){console.log(t)}})},xuanze:function(){var n=getCurrentPages(),e=n[n.length-3];console.log(e.$vm),e.$vm.AddressBottom=!1,e.$vm.addname=this.list.name,e.$vm.addDetail=this.list.detail_address,e.$vm.shop_no=this.shop_no,e.$vm.lng=this.list.lng,e.$vm.lat=this.list.lat,t.navigateBack({delta:2}),console.log(e)}}};n.default=e}).call(this,e("543d")["default"])},"48b6":function(t,n,e){"use strict";e.r(n);var a=e("3084"),o=e.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(s);n["default"]=o.a},"52bd":function(t,n,e){"use strict";e.r(n);var a=e("b245"),o=e("48b6");for(var s in o)["default"].indexOf(s)<0&&function(t){e.d(n,t,(function(){return o[t]}))}(s);e("ac1a");var i=e("f0c5"),c=Object(i["a"])(o["default"],a["b"],a["c"],!1,null,"4ac6709a",null,!1,a["a"],void 0);n["default"]=c.exports},"5f01":function(t,n,e){},6305:function(t,n,e){"use strict";(function(t,n){var a=e("4ea4");e("a1a6");a(e("66fd"));var o=a(e("52bd"));t.__webpack_require_UNI_MP_PLUGIN__=e,n(o.default)}).call(this,e("bc2e")["default"],e("543d")["createPage"])},ac1a:function(t,n,e){"use strict";var a=e("5f01"),o=e.n(a);o.a},b245:function(t,n,e){"use strict";e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return s})),e.d(n,"a",(function(){return a}));var a={uniRate:function(){return e.e("uni_modules/uni-rate/components/uni-rate/uni-rate").then(e.bind(null,"4535"))}},o=function(){var t=this.$createElement,n=(this._self._c,this.swiperlist.length);this.$mp.data=Object.assign({},{$root:{g0:n}})},s=[]}},[["6305","common/runtime","common/vendor"]]]);