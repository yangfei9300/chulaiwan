(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages_wode/vip/vip"],{"41f3":function(t,e,n){"use strict";n.r(e);var i=n("85e6"),o=n("e4ac");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("eae1");var c=n("f0c5"),s=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=s.exports},"6f47":function(t,e,n){},"757b":function(t,e,n){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{baseurl:getApp().globalData.baseurl,token:getApp().globalData.token,selindex:0,vipType:0,payAlertShow:!1,chongzhiList:[],userInfo:{},shebeiInfo:{},jnSize:{}}},onLoad:function(){this.getNiaonang(),this.getTaocanList();var e=t.getStorageSync("token");e||t.navigateTo({url:"/pages/Login/Login"}),this.userInfo=t.getStorageSync("userInfo")},methods:{vipQiehuan:function(t){this.vipType=t,this.getTaocanList()},vipCHange:function(t){this.vipType=parseInt(t.detail.current),this.getTaocanList()},toWxpay:function(e){n.requestPayment({timeStamp:e.timeStamp,nonceStr:e.nonceStr,package:e.package,signType:"MD5",paySign:e.paySign,success:function(e){e.errMsg.indexOf("ok")>=0?(t.showToast({title:"充值成功",icon:"nonw"}),setTimeout((function(e){t.reLaunch({url:"/pages/my/my"})}),1e3)):t.showToast({title:"充值失败",icon:"nonw"})},fail:function(t){}})},getPayData:function(){var e=this,n=t.getStorageSync("userInfo");if(""==n.phone)return t.showToast({title:"请完善手机号",icon:"nonw"}),!1;t.request({url:this.baseurl+"/api/vip/vipBuy",method:"POST",data:{pay_type:"3",code:this.chongzhiList[this.selindex].code,phone:n.phone,city:t.getStorageSync("citySel")},header:{xcx:1,token:this.token},success:function(t){e.toWxpay(t.data.data)},fail:function(){},complete:function(){}})},selindexClick:function(t){this.selindex=t},backBtn:function(){t.switchTab({url:"/pages/my/my"})},getTaocanList:function(){var e=this;t.request({url:this.baseurl+"/api/vip/vipData",method:"POST",data:{level:0==this.vipType?"1":"2",city:t.getStorageSync("citySel")},header:{xcx:1,token:this.token},success:function(t){console.log("vip充值列表",t),e.chongzhiList=t.data.data},fail:function(){},complete:function(){}})},payAlertShowClick:function(){this.payAlertShow=!this.payAlertShow},preventTouchMove:function(){},vipTypeCLick:function(t){this.vipType=t,this.getTaocanList()},getNiaonang:function(){var t=this,e=n.getMenuButtonBoundingClientRect();this.jnSize=e,console.log(e.width),console.log(e.height),console.log(e.top),console.log(e.right),console.log(e.bottom),console.log(e.left),n.getSystemInfo({success:function(e){t.shebeiInfo=e}})}}};e.default=i}).call(this,n("543d")["default"],n("bc2e")["default"])},"85e6":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){}));var i=function(){var t=this.$createElement;this._self._c},o=[]},"8f45":function(t,e,n){"use strict";(function(t,e){var i=n("4ea4");n("a1a6");i(n("66fd"));var o=i(n("41f3"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(o.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},e4ac:function(t,e,n){"use strict";n.r(e);var i=n("757b"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},eae1:function(t,e,n){"use strict";var i=n("6f47"),o=n.n(i);o.a}},[["8f45","common/runtime","common/vendor"]]]);